<div class="profile-container">
  <div class="profile-welcome"></div>
    <h1><%= current_user.first_name %></h1>
  <div class="current-balance"></div>
  <div class="search-bar">
    <form class="search" method='GET' action='/search'>
      <input type="text" name="query" placeholder="Seach for users">
    </form>
  </div>

  <div class="new-transactions">
    <h1>New Transaction</h1>
    <form method="POST" action='/transaction' class="create-transaction">
      <input type="text" placeholder="To" name="to" class="to-field">
      <input type="text" placeholder="Amount" name="amount" class="amount-field">
      <input type="text" placeholder="Description" name="Description" class="description-field">
      <input type="submit" value="Pay" name="transaction_type" id="pay">
      <input type="submit" value="Charge" name="transaction_type" id="charge">
    </form>
  </div>

  <div class="pending transaction">
    <h3>Here are your pending transactions</h3>
    <table style="width:100%" class="transaction-list">
      <tr class="pending-transaction-row">
        <th class="pending-table pending-date">Date:</th>
        <th class="pending-table pending-to">To/From</th>
        <th class="pending-table pending-description">Description:</th>
        <th class="pending-table pending-status">Status</th>
        <th class="pending-table pending-amount">Amount</th>
        <th class="pending-table pending-amount">Accept</th>
        <th class="pending-table pending-amount">Reject</th>
      </tr>
      <tr class="row-spacing"></tr>

      <%@user_pending_transactions.each do |transaction|%>
      <tr id="<%=transaction.id %>">
        <td><span class="pending-information transaction-date"><%= transaction.created_at.strftime("%m-%d-%y") %></span></td>
        <td><span class="pending-information sender_id"><%= transaction.sender_id %></span></td>
        <td><span class="pending-information description"><%= transaction.description %></span></td>
        <td><span class="pending-information status"><%= transaction.status %></span></td>
        <td><span class="pending-information amount">$<%= transaction.amount %></span></td>
        <form class="charge-choice" method="POST" action="/transaction/<%= transaction.id %>" data-id="<%= transaction.id %>">
          <input type="hidden" name="_method" value="put">
          <td><input type="submit" class="accept-transaction" value="accept" name="choice" id="accept"></td>
          <td><input type="submit" class="reject-transaction" value="reject" name="choice" id="reject"></td>
        </form>
      </tr>
      <tr class="row-spacing"></tr>
    <% end %>
    </table>
  </div>


  <div class="profile-transaction">
    <h3>Here are your recent transactions</h3>
    <table style="width:100%" class="transaction-list">
      <tr class="transaction-row">
        <th class="table-date">Date:</th>
        <th class="table-to">To/From</th>
        <th class="table-description">Description:</th>
        <th class="table-status">Status</th>
        <th class="table-amount">Amount</th>
      </tr>
      <tr class="row-spacing"></tr>
      <%@user_transactions.each do |transaction|%>
      <tr>
        <td><span class="transaction-information transaction-date"><%= transaction.created_at.strftime("%m-%d-%y") %></span></td>
        <td><span class="transaction-information sender_id"><%= transaction.sender_id %></span></td>
        <td><span class="transaction-information description"><%= transaction.description %></span></td>
        <td><span class="transaction-information status"><%= transaction.status %></span></td>
        <td><span class="transaction-information amount">$<%= transaction.amount %></span></td>
      </tr>
      <tr class="row-spacing"></tr>
    <% end %>
    </table>
  </div>

</div>



